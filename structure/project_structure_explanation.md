# Vidgit é¡¹ç›®ç›®å½•ç»“æ„è¯´æ˜

ä¸ºäº†æ”¯æŒ Vidgit çš„å¤šæ¨¡å—å¼€å‘ï¼ˆåç«¯ APIã€Web å¯è§†åŒ–ç¼–è¾‘å™¨ã€AI å¼•æ“ã€CLI å·¥å…·ï¼‰ï¼Œæˆ‘ä»¬é‡‡ç”¨äº† Monorepo é£æ ¼çš„é¡¹ç›®ç»“æ„ã€‚

## æ ¹ç›®å½•æ¦‚è§ˆ

```
vidgit/
â”œâ”€â”€ ai_engine/       # ğŸ§  AI æ ¸å¿ƒå¼•æ“ (è§†é¢‘ç”Ÿæˆã€è§’è‰²ä¸€è‡´æ€§ç®—æ³•)
â”œâ”€â”€ backend/         # ğŸ”™ åç«¯ API æœåŠ¡ (FastAPI, æ•°æ®åº“, ä»»åŠ¡é˜Ÿåˆ—)
â”œâ”€â”€ cli/             # ğŸ’» å‘½ä»¤è¡Œå·¥å…· (å¼€å‘è€…ç”¨çš„ vidgit å‘½ä»¤)
â”œâ”€â”€ frontend/        # ğŸŒ Web å‰ç«¯ (å¯è§†åŒ–ç¼–è¾‘å™¨, React/Next.js)
â”œâ”€â”€ infrastructure/  # ğŸ—ï¸ åŸºç¡€è®¾æ–½ (Docker, éƒ¨ç½²é…ç½®)
â”œâ”€â”€ plan/            # ğŸ“… é¡¹ç›®è§„åˆ’ä¸è·¯çº¿å›¾
â”œâ”€â”€ structure/       # ğŸ“‹ ä»»åŠ¡åˆ†è§£ä¸æ¶æ„æ–‡æ¡£
â””â”€â”€ docs/            # ğŸ“š å¼€å‘æ–‡æ¡£
```

---

## è¯¦ç»†æ¨¡å—è¯´æ˜

### 1. Backend (`/backend`)
åŸºäº FastAPI çš„æ ¸å¿ƒæœåŠ¡ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®å­˜å‚¨å’Œ API è¯·æ±‚ã€‚

*   `app/api/`: API è·¯ç”±å®šä¹‰ (Endpoints)ã€‚
*   `app/core/`: æ ¸å¿ƒé…ç½® (Config, Logging, Security)ã€‚
*   `app/models/`: æ•°æ®åº“æ¨¡å‹ (SQLAlchemy ORM - User, Project, Commit)ã€‚
*   `app/schemas/`: æ•°æ®ä¼ è¾“å¯¹è±¡ (Pydantic Schemas)ã€‚
*   `app/services/`: ä¸šåŠ¡é€»è¾‘å±‚ (Git é€»è¾‘, ç”¨æˆ·ç®¡ç†)ã€‚
*   `app/workers/`: å¼‚æ­¥ä»»åŠ¡å¤„ç†å™¨ (Celery/RabbitMQ - å¤„ç†è§†é¢‘ç”Ÿæˆä»»åŠ¡)ã€‚
*   `tests/`: åç«¯å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•ã€‚

### 2. Frontend (`/frontend`)
åŸºäº React/Next.js çš„ Web åº”ç”¨ï¼Œé‡ç‚¹æ˜¯å¯è§†åŒ–ç¼–è¾‘å™¨ã€‚

*   `src/components/`: UI ç»„ä»¶åº“ (åŒ…å« Git Graph å¯è§†åŒ–ç»„ä»¶)ã€‚
*   `src/pages/`: é¡µé¢è·¯ç”±ã€‚
*   `src/services/`: å‰ç«¯ API è¯·æ±‚å°è£…ã€‚
*   `src/hooks/`: è‡ªå®šä¹‰ React Hooks (çŠ¶æ€ç®¡ç†)ã€‚
*   `src/utils/`: å·¥å…·å‡½æ•°ã€‚

### 3. AI Engine (`/ai_engine`)
ç‹¬ç«‹çš„ AI å¤„ç†æ¨¡å—ï¼Œè´Ÿè´£ä¸åº•å±‚æ¨¡å‹äº¤äº’ã€‚

*   `pipelines/`: ç”Ÿæˆç®¡çº¿ (Seedance Pipeline, Stable Diffusion Pipeline)ã€‚
*   `anchors/`: **æ ¸å¿ƒå·®å¼‚åŒ–æŠ€æœ¯** - è§’è‰²ä¸€è‡´æ€§é”šç‚¹ç®—æ³•å®ç°ã€‚
*   `models/`: æ¨¡å‹æƒé‡ç®¡ç†æˆ–é€‚é…å™¨ (LoRA weights)ã€‚

### 4. CLI (`/cli`)
å¼€å‘è€…ä½¿ç”¨çš„ Python å‘½ä»¤è¡Œå·¥å…·ã€‚

*   `vidgit/`: CLI æºç ã€‚
*   ä¸»è¦å‘½ä»¤: `init`, `clone`, `pull`, `push`, `branch`ã€‚

### 5. Infrastructure (`/infrastructure`)
*   `docker/`: Dockerfile å’Œ docker-compose.yml é…ç½®ã€‚
*   éƒ¨ç½²è„šæœ¬å’Œç¯å¢ƒé…ç½®ã€‚

## å¼€å‘å·¥ä½œæµå»ºè®®

1.  **AI å¼€å‘**: åœ¨ `ai_engine/` ä¸­å®éªŒç®—æ³•ï¼Œå°è£…æˆ Python ç±»ã€‚
2.  **åç«¯é›†æˆ**: åœ¨ `backend/app/workers/` ä¸­è°ƒç”¨ `ai_engine` çš„èƒ½åŠ›ã€‚
3.  **API æš´éœ²**: åœ¨ `backend/app/api/` ä¸­å®šä¹‰æ¥å£ä¾›å‰ç«¯è°ƒç”¨ã€‚
4.  **å‰ç«¯å±•ç¤º**: åœ¨ `frontend/` ä¸­å¼€å‘å¯è§†åŒ–ç•Œé¢ï¼Œè°ƒç”¨åç«¯ APIã€‚
