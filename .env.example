# Backend (.env) example
#
# Copy this file to:
# - backend/.env (recommended for local dev)
# - or export these variables in your shell
#
# Notes:
# - backend/app/core/config.py reads from ".env" (pydantic-settings)
# - docker-compose.prod.yml uses its own env wiring; this is mainly for local dev.

# Database (Postgres)
POSTGRES_SERVER=localhost
POSTGRES_PORT=5432
POSTGRES_USER=vidgit
POSTGRES_PASSWORD=vidgit_password
POSTGRES_DB=vidgit_db
DATABASE_URL=

# JWT
SECRET_KEY=CHANGE_THIS_TO_A_SECURE_SECRET_KEY
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Celery
CELERY_BROKER_URL=amqp://guest:guest@localhost:5672//
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Publish / Export
PUBLISH_AUTO_RETRY_ENABLED=false
PUBLISH_MAX_ATTEMPTS=3
PUBLISH_RETRY_BASE_SECONDS=60
PUBLISH_RETRY_MAX_SECONDS=300

# Storage (MinIO / S3)
S3_ENDPOINT_URL=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET_NAME=vidgit-bucket
S3_REGION_NAME=us-east-1

# Dev v2: Publish (optional)
# Bilibili uploader binary name/path (used by worker)
BILIUP_BIN=biliup
#
# Douyin uploader command template (used by worker; experimental)
# Supported placeholders: {video_path} {credential_path} {title} {description}
DOUYIN_UPLOADER_CMD=

# External APIs (optional; leave empty for local dev / mocked behavior)
OPENAI_API_KEY=
SEEDANCE_API_KEY=
STABILITY_API_KEY=

# Frontend (optional)
NEXT_PUBLIC_API_ORIGIN=http://localhost:8000
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_CLOUD_API_URL=
